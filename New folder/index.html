<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>WorkHive - Connect & Work</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <style type="text/tailwindcss">
        body {
            font-family: 'Poppins', sans-serif;
            scroll-behavior: smooth;
        }
        .category-card { position: relative; overflow: hidden; transition: color 0.4s ease-in-out; z-index: 1; }
        .category-card::before { content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 0; background-color: #3b82f6; transition: height 0.4s ease-in-out; z-index: -1; }
        .category-card:hover::before { height: 100%; }
        .category-card:hover .material-icons,
        .category-card:hover h4 { color: white; }
        .category-card .material-icons, .category-card h4 { transition: color 0.4s ease-in-out; }

        #auth-overlay {
            z-index: 50; background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }
        @keyframes viewIn { from { opacity: 0; transform: translateY(20px) scale(0.98); } to { opacity: 1; transform: translateY(0) scale(1); } }
        @keyframes viewOut { to { opacity: 0; transform: translateY(-20px) scale(0.98); } }
        @keyframes staggerIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        #auth-overlay.hidden { display: none; }
        #auth-overlay { animation: fadeIn 0.3s ease-out; }
        #auth-overlay.exiting { animation: fadeOut 0.3s ease-in; }

        .view { animation: viewIn 0.5s cubic-bezier(0.25, 1, 0.5, 1) forwards; }
        .view.hidden { display: none; }
        .view.exiting { animation: viewOut 0.4s cubic-bezier(0.5, 0, 0.75, 0) forwards; }

        .role-card-container { perspective: 1000px; }
        .role-card { background-color: #fff; border: 1px solid rgba(0,0,0,0.05); transform-style: preserve-3d; transition: transform 0.4s ease-out, box-shadow 0.4s ease-out; position: relative; overflow: hidden; will-change: transform; }
        .role-card .card-content { transform: translateZ(30px); transition: transform 0.4s ease-out; }
        .role-card:hover { transform: translateY(-10px); box-shadow: 0 30px 40px -15px rgba(0, 0, 0, 0.2); }
        .role-card:hover .card-content { transform: translateZ(50px) scale(1.05); }

        .form-group { position: relative; animation: staggerIn 0.5s ease-out forwards; opacity: 0; }
        .input-wrapper { position: relative; }
        .input-icon { position: absolute; top: 50%; left: 0.8rem; transform: translateY(-50%); color: #9ca3af; transition: color 0.2s ease; }
        .form-input { width: 100%; border: 1px solid #d1d5db; background-color: #f9fafb; border-radius: 0.5rem; padding: 1.25rem 1rem 0.75rem 2.75rem; transition: border-color 0.2s ease; font-size: 1rem; }
        .form-input::placeholder { color: transparent; }
        .form-label { position: absolute; top: 1rem; left: 2.75rem; color: #6b7280; pointer-events: none; transition: all 0.2s ease-out; }
        .form-input:focus + .form-label, .form-input:not(:placeholder-shown) + .form-label { top: 0.4rem; font-size: 0.75rem; color: #3b82f6; }
        .form-input:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3); }
        .form-input:focus ~ .input-icon { color: #3b82f6; }
        
        #password-criteria li, #reset-password-criteria li { transition: all 0.3s ease; transform-origin: left; display: flex; align-items: center; font-size: 0.875rem; }
        .invalid { color: #ef4444; }
        .valid { color: #22c55e; transform: scale(1.05); }

        .button-primary { background-color: #3b82f6; color: white; transition: all 0.3s ease; box-shadow: 0 4px 14px 0 rgba(59, 130, 246, 0.39); }
        .button-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 20px 0 rgba(59, 130, 246, 0.45); }
        .button-primary:active { transform: translateY(0px) scale(0.98); }
        .button-secondary { background-color: #eef2ff; color:#3b82f6; transition: background-color 0.2s ease; }
        .button-secondary:hover { background-color: #dbeafe; }

        .auth-tab { color: #6b7280; border-bottom: 2px solid transparent; transition: all 0.2s ease; }
        .auth-tab.active { color: #3b82f6; border-bottom-color: #3b82f6; }
    </style>
</head>
<body class="bg-gray-50">
    <div id="main-page">
        <header class="bg-white shadow-sm fixed top-0 left-0 right-0 z-40">
            <div class="container mx-auto px-6 py-4 flex justify-between items-center">
                <a class="text-2xl font-bold text-blue-600" href="#">WorkHive</a>
                <nav class="hidden md:flex items-center space-x-8">
                    <a class="text-gray-600 hover:text-blue-600" href="#">Home</a>
                    <a id="header-workers-btn" class="text-gray-600 hover:text-blue-600" href="#">Workers</a>
                    <a id="header-recruiters-btn" class="text-gray-600 hover:text-blue-600" href="#">Recruiters</a>
                    <a class="text-gray-600 hover:text-blue-600" href="#about-us-section">About us</a>
                </nav>
                <div class="flex items-center space-x-4">
                    <a href="#" id="header-register-btn" class="text-gray-600 hover:text-blue-600">Register</a>
                    <a href="#" id="header-login-btn" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors">Login</a>
                </div>
            </div>
        </header>

        <main class="pt-16">
            <section class="relative bg-cover bg-center h-[25vh] min-h-[500px]" style="background-image: url('https://images.unsplash.com/photo-1521791136064-7986c2920216?q=80&w=2069&auto=format&fit=crop');">
                <div class="absolute inset-0 bg-black opacity-40"></div>
                <div class="absolute inset-0 flex flex-col items-center justify-center text-white text-center px-4">
                    <h1 class="text-5xl md:text-6xl font-bold leading-tight mb-4">Find Your Next Opportunity</h1>
                    <p class="text-xl md:text-2xl text-gray-200">Connecting skilled workers with trusted hirers.</p>
                </div>
            </section>
            <section class="container mx-auto px-6 py-16">
                <div class="flex flex-col md:flex-row justify-center items-center gap-12">
                    <div class="group bg-white rounded-lg shadow-xl p-8 text-center w-full md:w-1/3 transform hover:scale-105 hover:shadow-2xl transition-all duration-300 ease-in-out">
                        <img alt="A worker smiling" class="w-32 h-32 rounded-full mx-auto mb-6 object-cover border-4 border-blue-500 group-hover:border-blue-700 transition-colors duration-300" src="images/WhatsApp Image 2025-07-14 at 23.53.06_0d504c92.jpg" />
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">I am a Worker</h3>
                        <p class="text-gray-600 mb-4">Looking for my next opportunity.</p>
                        <a id="find-job-btn" href="#" class="inline-block bg-blue-600 text-white px-6 py-2 rounded-full font-semibold hover:bg-blue-700 transition-colors">Find a Job</a>
                    </div>
                    <div class="group bg-white rounded-lg shadow-xl p-8 text-center w-full md:w-1/3 transform hover:scale-105 hover:shadow-2xl transition-all duration-300 ease-in-out">
                        <img alt="A hirer looking professional" class="w-32 h-32 rounded-full mx-auto mb-6 object-cover border-4 border-green-500 group-hover:border-green-700 transition-colors duration-300" src="images/WhatsApp Image 2025-07-14 at 23.53.11_8759104b.jpg" />
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">I am a Hirer</h3>
                        <p class="text-gray-600 mb-4">Searching for the best talent.</p>
                        <a id="quick-hire-btn" href="#" class="inline-block bg-green-600 text-white px-6 py-2 rounded-full font-semibold hover:bg-green-700 transition-colors">Quick Hire</a>
                    </div>
                </div>
            </section>
            <section class="bg-white py-16">
                <div class="container mx-auto px-6">
                    <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">Browse by Category</h2>
                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-8">
                        <div class="category-card flex flex-col items-center p-6 bg-white rounded-lg text-center border border-gray-200 cursor-pointer"><span class="material-icons text-4xl text-blue-500 mb-2">house</span><h4 class="font-semibold text-gray-700">House Maids</h4></div>
                        <div class="category-card flex flex-col items-center p-6 bg-white rounded-lg text-center border border-gray-200 cursor-pointer"><span class="material-icons text-4xl text-blue-500 mb-2">electrical_services</span><h4 class="font-semibold text-gray-700">Electricians</h4></div>
                        <div class="category-card flex flex-col items-center p-6 bg-white rounded-lg text-center border border-gray-200 cursor-pointer"><span class="material-icons text-4xl text-blue-500 mb-2">construction</span><h4 class="font-semibold text-gray-700">Construction</h4></div>
                        <div class="category-card flex flex-col items-center p-6 bg-white rounded-lg text-center border border-gray-200 cursor-pointer"><span class="material-icons text-4xl text-blue-500 mb-2">content_cut</span><h4 class="font-semibold text-gray-700">Tailors</h4></div>
                        <div class="category-card flex flex-col items-center p-6 bg-white rounded-lg text-center border border-gray-200 cursor-pointer"><span class="material-icons text-4xl text-blue-500 mb-2">person</span><h4 class="font-semibold text-gray-700">Barbers</h4></div>
                        <div class="category-card flex flex-col items-center p-6 bg-white rounded-lg text-center border border-gray-200 cursor-pointer"><span class="material-icons text-4xl text-blue-500 mb-2">plumbing</span><h4 class="font-semibold text-gray-700">Plumbers</h4></div>
                        <div class="category-card flex flex-col items-center p-6 bg-white rounded-lg text-center border border-gray-200 cursor-pointer"><span class="material-icons text-4xl text-blue-500 mb-2">format_paint</span><h4 class="font-semibold text-gray-700">Painters</h4></div>
                        <div class="category-card flex flex-col items-center p-6 bg-white rounded-lg text-center border border-gray-200 cursor-pointer"><span class="material-icons text-4xl text-blue-500 mb-2">local_florist</span><h4 class="font-semibold text-gray-700">Gardeners</h4></div>
                        <div class="category-card flex flex-col items-center p-6 bg-white rounded-lg text-center border border-gray-200 cursor-pointer"><span class="material-icons text-4xl text-blue-500 mb-2">elderly</span><h4 class="font-semibold text-gray-700">Care Takers</h4></div>
                        <div class="category-card flex flex-col items-center p-6 bg-white rounded-lg text-center border border-gray-200 cursor-pointer"><span class="material-icons text-4xl text-blue-500 mb-2">directions_car</span><h4 class="font-semibold text-gray-700">Drivers</h4></div>
                    </div>
                </div>
            </section>
            <footer class="bg-gray-800 text-white relative mt-16">
                <div class="absolute inset-0 bg-cover bg-center opacity-10" style="background-image: url('https://images.unsplash.com/photo-1529156069898-4242e48c697c?q=80&w=2070&auto=format&fit=crop');"></div>
                <div class="container mx-auto px-6 py-16 relative z-10">
                    <div class="flex flex-col md:flex-row justify-center items-center gap-12">
                        <div class="w-full md:w-1/2 text-center md:text-left">
                            <h2 class="text-3xl font-bold mb-4">For Recruiters</h2>
                            <p class="text-gray-300 mb-6">Find the perfect candidate for your team.</p>
                            <button class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg flex items-center mx-auto md:mx-0 transition-all duration-300 ease-in-out hover:-translate-y-1 hover:shadow-lg">
                                <span class="material-icons mr-2">search</span>Search Workers
                            </button>
                        </div>
                        <div class="group w-full md:w-auto bg-white text-gray-800 rounded-xl shadow-xl p-6 cursor-pointer transition-all duration-300 ease-in-out hover:-translate-y-2 hover:shadow-2xl hover:shadow-blue-500/40">
                            <div class="flex items-center mb-4">
                                <img alt="Profile photo of a worker" class="w-20 h-20 rounded-full object-cover mr-4" src="images/hand-drawn-cleaning-person-cartoon-illustration_52683-117789.avif" />
                                <div><h4 class="text-xl font-bold text-gray-800 transition-colors duration-300 group-hover:text-blue-600">Sravani</h4><p class="text-gray-500">Care Taker</p></div>
                            </div>
                            <div>
                                <h5 class="font-semibold mb-2 text-left">Skills:</h5>
                                <div class="flex flex-wrap gap-2 text-sm justify-start">
                                    <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full">Cooking</span><span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full">Mobility Aid</span><span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full">Feeding</span><span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full">Cleaning</span>
                                </div>
                            </div>
                            <div class="mt-4 text-left"><h5 class="font-semibold mb-1">Experience:</h5><p class="text-gray-600">2+ years</p></div>
                            <div class="mt-4 text-left"><h5 class="font-semibold mb-1">Contact Details:</h5><p class="text-gray-600">9347437310</p></div>
                        </div>
                    </div>
                </div>
            </footer>
             <section id="about-us-section" class="bg-gray-50 py-16">
                <div class="container mx-auto px-6">
                    <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">About WorkHive</h2>
                    <div class="max-w-3xl mx-auto text-center text-gray-700 leading-relaxed">
                        <p>WorkHive connects skilled workers with hirers effortlessly. From tasks to projects, hire with trust and speed. Workers can track jobs, grow their profiles, and access real opportunities. Join WorkHive — where work meets growth.</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- AUTHENTICATION OVERLAY -->
    <div id="auth-overlay" class="hidden fixed inset-0 flex items-center justify-center p-4">
        <div id="auth-card" class="w-full max-w-4xl bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/40 relative max-h-[90vh] overflow-y-auto">
            <button id="close-auth-btn" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 transition-colors z-20">
                <span class="material-icons text-3xl">close</span>
            </button>
            <div id="auth-content-container" class="p-8 md:p-12"></div>
        </div>
    </div>
    
    <template id="auth-templates">
        <!-- VIEW 1: REGISTER ROLE SELECTION -->
        <div id="registerRoleView" class="view">
             <h1 class="text-4xl md:text-5xl font-bold text-center text-gray-800 mb-12">Register</h1>
             <div class="grid grid-cols-1 md:grid-cols-2 gap-10 role-card-container">
                <div id="register-hirer-card" class="role-card cursor-pointer p-8 rounded-xl text-center">
                    <div class="card-content"><svg class="w-16 h-16 text-blue-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg><h2 class="text-xl font-bold text-gray-900">I'm a Hirer</h2><p class="text-gray-600 text-sm mt-1">Register to find talent.</p></div>
                </div>
                <div id="register-worker-card" class="role-card cursor-pointer p-8 rounded-xl text-center">
                    <div class="card-content"><svg class="w-16 h-16 text-blue-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg><h2 class="text-xl font-bold text-gray-900">I'm a Worker</h2><p class="text-gray-600 text-sm mt-1">Register to find jobs.</p></div>
                </div>
            </div>
            <p class="text-center mt-12 text-gray-600">Already have an account? <a id="gotoLoginFromRegister" href="#" class="font-semibold text-blue-600 hover:text-blue-500">Log In</a></p>
        </div>
        
        <!-- VIEW 2: UNIFIED LOGIN -->
        <div id="unifiedLoginView" class="view hidden">
            <h1 class="text-4xl font-bold text-center text-gray-800 mb-8">Login</h1>
            <div class="flex justify-center border-b mb-6">
                <button data-auth-tab="worker" class="auth-tab py-2 px-6 font-semibold active">Worker</button>
                <button data-auth-tab="hirer" class="auth-tab py-2 px-6 font-semibold">Hirer</button>
            </div>
            <form id="workerLoginForm" class="space-y-6">
                <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg><input type="tel" id="login_phone" maxlength="10" class="form-input" placeholder="Phone Number"><label for="login_phone" class="form-label">Phone Number</label></div>
                <button type="button" id="sendLoginOtpBtn" class="button-secondary w-full py-3 rounded-lg font-semibold">Send OTP</button>
                <div id="workerLoginOtpSection" class="hidden space-y-6">
                    <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg><input type="text" id="login_worker_otp" maxlength="4" class="form-input" placeholder="4-Digit OTP"><label for="login_worker_otp" class="form-label">4-Digit OTP</label></div>
                    <button type="submit" class="button-primary w-full py-3 rounded-lg font-semibold">Login</button>
                </div>
            </form>
            <form id="hirerLoginForm" class="space-y-6 hidden">
                <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg><input type="email" id="login_email" class="form-input" placeholder="Email Address"><label for="login_email" class="form-label">Email Address</label></div>
                <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg><input type="password" id="login_password" class="form-input" placeholder="Password"><label for="login_password" class="form-label">Password</label></div>
                <div class="form-group text-right -mt-4"><a href="#" id="forgotPasswordLink" class="text-sm font-semibold text-blue-600 hover:text-blue-500">Forgot Password?</a></div>
                <button type="submit" class="button-primary w-full py-3 rounded-lg font-semibold">Login</button>
            </form>
            <p class="text-center mt-6 text-gray-600">Don't have an account? <a id="gotoRegisterFromLogin" href="#" class="font-semibold text-blue-600 hover:text-blue-500">Register</a></p>
        </div>
        
        <!-- VIEW 3: RESET PASSWORD (Step 1) -->
        <div id="forgotPasswordEmailView" class="view hidden">
             <button class="back-button mb-6 text-sm font-medium text-blue-600 hover:text-blue-500 flex items-center"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>Back to Login</button>
            <h1 class="text-3xl font-bold text-center text-gray-800 mb-2">Reset Password</h1>
            <p class="text-center text-gray-500 mb-8">Enter your email to receive a reset code.</p>
            <form id="forgotPasswordEmailForm" class="space-y-6">
                <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg><input type="email" id="reset_email" class="form-input" placeholder="Email Address"><label for="reset_email" class="form-label">Email Address</label></div>
                <button type="submit" class="button-primary w-full py-3 rounded-lg font-semibold">Send Reset Code</button>
            </form>
        </div>

        <!-- VIEW 4: RESET PASSWORD (Step 2) -->
        <div id="resetPasswordNewPasswordView" class="view hidden">
            <button class="back-button mb-6 text-sm font-medium text-blue-600 hover:text-blue-500 flex items-center"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>Back</button>
            <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">Create New Password</h1>
             <form id="resetPasswordNewPasswordForm" class="space-y-6">
                <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg><input type="text" id="reset_otp" maxlength="4" class="form-input" placeholder="4-Digit Code"><label for="reset_otp" class="form-label">4-Digit Code</label></div>
                <div class="form-group">
                    <div class="input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg><input type="password" id="reset_new_password" maxlength="10" class="form-input" placeholder="New Password"><label for="reset_new_password" class="form-label">New Password</label></div>
                    <ul id="reset-password-criteria" class="list-none px-1 mt-2 space-y-1">
                        <li data-criterion="length" class="invalid"><span>❌</span> 5-10 characters long</li><li data-criterion="upper" class="invalid"><span>❌</span> Uppercase letter (A-Z)</li><li data-criterion="lower" class="invalid"><span>❌</span> Lowercase letter (a-z)</li><li data-criterion="number" class="invalid"><span>❌</span> Number (0-9)</li><li data-criterion="special" class="invalid"><span>❌</span> Special character (!@#$)</li>
                    </ul>
                </div>
                <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg><input type="password" id="reset_confirm_password" maxlength="10" class="form-input" placeholder="Confirm New Password"><label for="reset_confirm_password" class="form-label">Confirm New Password</label></div>
                <button type="submit" class="button-primary w-full py-3 mt-4 rounded-lg font-semibold">Reset Password</button>
            </form>
        </div>
        
        <!-- VIEW 6: HIRER REGISTRATION FORM -->
        <div id="hirerRegisterView" class="view hidden">
            <button class="back-button mb-6 text-sm font-medium text-blue-600 hover:text-blue-500 flex items-center"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>Back</button>
            <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">Hirer Registration</h1>
            <form id="hirerRegisterForm" class="space-y-6">
                <div class="md:grid md:grid-cols-2 md:gap-6">
                    <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg><input type="text" id="reg_hirer_name" class="form-input" placeholder="Full Name"><label for="reg_hirer_name" class="form-label">Full Name</label></div>
                    <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg><input type="email" id="reg_hirer_email" class="form-input" placeholder="Email ID"><label for="reg_hirer_email" class="form-label">Email ID</label></div>
                </div>
                <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg><input type="tel" id="reg_hirer_phone" maxlength="10" class="form-input" placeholder="Phone Number"><label for="reg_hirer_phone" class="form-label">Phone Number</label></div>
                <div class="form-group p-4 bg-white/50 rounded-lg border">
                    <label class="text-sm font-medium text-gray-700">Registering as:</label>
                    <div class="flex gap-x-6 mt-2"><label class="flex items-center"><input type="radio" name="hirerType" value="organisation" class="mr-2"> Organisation</label><label class="flex items-center"><input type="radio" name="hirerType" value="individual" class="mr-2" checked> Individual</label></div>
                    <div id="organisationFields" class="hidden mt-6 space-y-6">
                        <div class="form-group !opacity-100 !animate-none input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg><input type="text" id="companyName" class="form-input" placeholder="Company Name"><label for="companyName" class="form-label">Company Name</label></div>
                        <div class="form-group !opacity-100 !animate-none input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg><input type="text" id="industry" class="form-input" placeholder="Industry"><label for="industry" class="form-label">Industry</label></div>
                    </div>
                </div>
                <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg><input type="text" id="reg_hirer_loc" class="form-input" placeholder="Location"><label for="reg_hirer_loc" class="form-label">Location</label></div>
                <div class="form-group">
                    <div class="md:grid md:grid-cols-2 md:gap-6">
                        <div class="input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg><input type="password" id="hirerPassword" maxlength="10" class="form-input" placeholder="Password"><label for="hirerPassword" class="form-label">Password</label></div>
                        <div class="input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg><input type="password" id="hirerConfirmPassword" maxlength="10" class="form-input" placeholder="Confirm Password"><label for="hirerConfirmPassword" class="form-label">Confirm Password</label></div>
                    </div>
                     <ul id="password-criteria" class="list-none px-1 mt-2 space-y-1">
                        <li data-criterion="length" class="invalid"><span>❌</span> 5-10 characters long</li><li data-criterion="upper" class="invalid"><span>❌</span> Uppercase letter (A-Z)</li><li data-criterion="lower" class="invalid"><span>❌</span> Lowercase letter (a-z)</li><li data-criterion="number" class="invalid"><span>❌</span> Number (0-9)</li><li data-criterion="special" class="invalid"><span>❌</span> Special character (!@#$)</li>
                    </ul>
                </div>
                <button type="submit" class="button-primary w-full py-3 mt-4 rounded-lg font-semibold">Register</button>
            </form>
        </div>

        <!-- VIEW 7: WORKER REGISTRATION FORM -->
        <div id="workerRegisterView" class="view hidden">
             <button class="back-button mb-6 text-sm font-medium text-blue-600 hover:text-blue-500 flex items-center"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>Back</button>
            <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">Worker Registration</h1>
            <form id="workerRegisterForm" class="space-y-6">
                <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg><input type="text" id="reg_worker_name" class="form-input" placeholder="Full Name"><label for="reg_worker_name" class="form-label">Full Name</label></div>
                <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg><input type="tel" id="reg_worker_phone" maxlength="10" class="form-input" placeholder="Phone Number"><label for="reg_worker_phone" class="form-label">Phone Number</label></div>
                <div class="form-group input-wrapper">
                    <svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 21a6 6 0 01-9-5.197"></path></svg>
                    <select id="reg_worker_gender" class="form-input text-gray-500" onchange="this.classList.toggle('text-gray-900', this.value !== '')">
                        <option value="" disabled selected>Gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg><input type="number" id="reg_worker_age" min="1" class="form-input" placeholder="Age"><label for="reg_worker_age" class="form-label">Age</label></div>
                <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg><input type="text" id="reg_worker_occ" class="form-input" placeholder="Occupation"><label for="reg_worker_occ" class="form-label">Occupation</label></div>
                <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg><input type="text" id="reg_worker_loc" class="form-input" placeholder="Location"><label for="reg_worker_loc" class="form-label">Location</label></div>
                <button type="button" id="sendOtpBtn" class="button-secondary w-full py-3 px-4 font-semibold rounded-lg">Send OTP</button>
                <div id="otpSection" class="hidden">
                    <div class="form-group input-wrapper"><svg class="input-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg><input type="text" id="workerOtp" maxlength="4" class="form-input text-center tracking-[1em] pl-4" placeholder=" "><label for="workerOtp" class="form-label left-4">4-Digit OTP</label></div>
                    <button type="submit" class="button-primary w-full py-3 mt-4 rounded-lg font-semibold">Register</button>
                </div>
            </form>
        </div>
    </template>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const authOverlay = document.getElementById('auth-overlay');
        const authContentContainer = document.getElementById('auth-content-container');
        const authTemplates = document.getElementById('auth-templates');
        
        const templateContainer = document.createElement('div');
        templateContainer.innerHTML = authTemplates.innerHTML;
        
        authContentContainer.innerHTML = '';
        while(templateContainer.firstChild) {
            authContentContainer.appendChild(templateContainer.firstChild);
        }
        
        const views = {
            registerRole: authContentContainer.querySelector('#registerRoleView'),
            unifiedLogin: authContentContainer.querySelector('#unifiedLoginView'),
            forgotPasswordEmail: authContentContainer.querySelector('#forgotPasswordEmailView'),
            resetPasswordNewPassword: authContentContainer.querySelector('#resetPasswordNewPasswordView'),
            hirerRegister: authContentContainer.querySelector('#hirerRegisterView'),
            workerRegister: authContentContainer.querySelector('#workerRegisterView'),
        };

        let currentView = null;
        let historyStack = [];

        function showView(view) {
             if (!view || currentView === view) return;
            
            if (currentView) {
                currentView.classList.add('exiting');
                currentView.addEventListener('animationend', () => {
                    currentView.classList.add('hidden');
                    currentView.classList.remove('exiting');
                    view.classList.remove('hidden');
                    currentView = view;
                }, { once: true });
            } else {
                view.classList.remove('hidden');
                currentView = view;
            }
        }
        
        function navigateTo(view) {
            if (historyStack[historyStack.length - 1] !== view) {
                historyStack.push(view);
            }
            showView(view);
        }

        function goBack() {
            if (historyStack.length > 1) {
                historyStack.pop();
                const previous = historyStack[historyStack.length - 1];
                showView(previous);
            } else {
                closeAuth();
            }
        }

        function openAuth(startView) {
            historyStack = [startView];
            Object.values(views).forEach(v => {
                if(v) v.classList.add('hidden');
            });
            currentView = null;
            showView(startView);
            authOverlay.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeAuth() {
            authOverlay.classList.add('exiting');
            authOverlay.addEventListener('animationend', () => {
                authOverlay.classList.add('hidden');
                authOverlay.classList.remove('exiting');
                document.body.style.overflow = '';
            }, { once: true });
        }

        document.getElementById('header-login-btn').addEventListener('click', (e) => { e.preventDefault(); openAuth(views.unifiedLogin); });
        document.getElementById('header-register-btn').addEventListener('click', (e) => { e.preventDefault(); openAuth(views.registerRole); });
        document.getElementById('header-workers-btn').addEventListener('click', (e) => { e.preventDefault(); openAuth(views.registerRole); });
        document.getElementById('find-job-btn').addEventListener('click', (e) => { e.preventDefault(); openAuth(views.registerRole); });
        document.getElementById('quick-hire-btn').addEventListener('click', (e) => { e.preventDefault(); openAuth(views.registerRole); });
        document.getElementById('header-recruiters-btn').addEventListener('click', (e) => { e.preventDefault(); openAuth(views.registerRole); });
        document.getElementById('close-auth-btn').addEventListener('click', closeAuth);
        authOverlay.addEventListener('click', (e) => { if (e.target === authOverlay) closeAuth(); });

        authContentContainer.querySelector('#gotoLoginFromRegister').addEventListener('click', (e) => { e.preventDefault(); navigateTo(views.unifiedLogin); });
        authContentContainer.querySelector('#gotoRegisterFromLogin').addEventListener('click', (e) => { e.preventDefault(); navigateTo(views.registerRole); });
        authContentContainer.querySelectorAll('.back-button').forEach(button => button.addEventListener('click', goBack));

        const loginTabs = authContentContainer.querySelectorAll('.auth-tab');
        const workerLoginForm = authContentContainer.querySelector('#workerLoginForm');
        const hirerLoginForm = authContentContainer.querySelector('#hirerLoginForm');
        loginTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                loginTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                if (tab.dataset.authTab === 'worker') {
                    workerLoginForm.classList.remove('hidden');
                    hirerLoginForm.classList.add('hidden');
                } else {
                    hirerLoginForm.classList.remove('hidden');
                    workerLoginForm.classList.add('hidden');
                }
            });
        });
        
        const sendLoginOtpBtn = authContentContainer.querySelector('#sendLoginOtpBtn');
        const workerLoginOtpSection = authContentContainer.querySelector('#workerLoginOtpSection');
        sendLoginOtpBtn.addEventListener('click', async () => {
            const phone = authContentContainer.querySelector('#login_phone').value;
            if (phone.length !== 10) {
                 alert('Please enter a valid 10-digit phone number.');
                return;
            }

            const apiUrl = 'http://127.0.0.1:8000/api/login/worker/send-otp';
            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ phone: phone }),
                });
                const result = await response.json();
                alert(result.message);
                if (response.ok) {
                    workerLoginOtpSection.classList.remove('hidden');
                    sendLoginOtpBtn.disabled = true;
                }
            } catch (error) {
                 console.error('Failed to connect to the server:', error);
                alert('Login failed. Could not connect to the server.');
            }
        });

        authContentContainer.querySelector('#forgotPasswordLink').addEventListener('click', (e) => {
            e.preventDefault();
            navigateTo(views.forgotPasswordEmail);
        });

        const forgotPasswordEmailForm = authContentContainer.querySelector('#forgotPasswordEmailForm');
        forgotPasswordEmailForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = authContentContainer.querySelector('#reset_email').value;
            if (!email || !email.includes('@')) {
                alert('Please enter a valid email address.');
                return;
            }

            const apiUrl = 'http://127.0.0.1:8000/api/hirer/forgot-password';
            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email: email }),
                });
                const result = await response.json();
                alert(result.message); // Show the generic message from the server
                if (response.ok) {
                    navigateTo(views.unifiedLogin); // Go back to login
                }
            } catch (error) {
                console.error('Failed to connect to the server:', error);
                alert('Could not connect to the server. Please try again later.');
            }
        });

        authContentContainer.querySelector('#register-worker-card').addEventListener('click', () => navigateTo(views.workerRegister));
        authContentContainer.querySelector('#register-hirer-card').addEventListener('click', () => navigateTo(views.hirerRegister));
        
        authContentContainer.querySelectorAll('input[name="hirerType"]').forEach(radio => {
            radio.addEventListener('change', e => {
                authContentContainer.querySelector('#organisationFields').classList.toggle('hidden', e.target.value !== 'organisation');
            });
        });

        const updateCriterion = (list, criterion, isValid) => {
            const element = list.querySelector(`[data-criterion="${criterion}"]`);
            if (!element) return;
            const wasValid = element.classList.contains('valid');
            if (isValid === wasValid) return;
            element.querySelector('span').textContent = isValid ? '✅' : '❌';
            element.classList.toggle('valid', isValid);
            element.classList.toggle('invalid', !isValid);
        };
        
        authContentContainer.querySelector('#hirerPassword').addEventListener('input', (e) => {
            const pw = e.target.value;
            const criteriaList = authContentContainer.querySelector('#password-criteria');
            updateCriterion(criteriaList, 'length', pw.length >= 5 && pw.length <= 10);
            updateCriterion(criteriaList, 'upper', /[A-Z]/.test(pw));
            updateCriterion(criteriaList, 'lower', /[a-z]/.test(pw));
            updateCriterion(criteriaList, 'number', /\d/.test(pw));
            updateCriterion(criteriaList, 'special', /[!@#$%^&*()]/.test(pw));
        });

        authContentContainer.querySelector('#reset_new_password').addEventListener('input', (e) => {
            const pw = e.target.value;
            const criteriaList = authContentContainer.querySelector('#reset-password-criteria');
            updateCriterion(criteriaList, 'length', pw.length >= 5 && pw.length <= 10);
            updateCriterion(criteriaList, 'upper', /[A-Z]/.test(pw));
            updateCriterion(criteriaList, 'lower', /[a-z]/.test(pw));
            updateCriterion(criteriaList, 'number', /\d/.test(pw));
            updateCriterion(criteriaList, 'special', /[!@#$%^&*()]/.test(pw));
        });

        authContentContainer.querySelector('#sendOtpBtn').addEventListener('click', async (e) => {
            const phoneInput = authContentContainer.querySelector('#reg_worker_phone');
            if (phoneInput.value.length !== 10) {
                alert('Please enter a valid 10-digit phone number.');
                return;
            }

            const apiUrl = 'http://127.0.0.1:8000/api/register/worker/send-otp';
            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ phone: phoneInput.value }),
                });
                const result = await response.json();
                if (response.ok) {
                    alert(result.message); // "OTP sent successfully!"
                    authContentContainer.querySelector('#otpSection').classList.remove('hidden');
                    e.target.disabled = true;
                } else {
                    alert(`Error: ${result.message}`);
                }
            } catch (error) {
                console.error('Failed to connect to the server:', error);
                alert('Failed to send OTP. Could not connect to the server.');
            }
        });
        
        // --- Connect Hirer Registration Form to Backend ---
        const hirerRegisterForm = authContentContainer.querySelector('#hirerRegisterForm');
        hirerRegisterForm.addEventListener('submit', async (e) => {
            e.preventDefault(); 

            const name = authContentContainer.querySelector('#reg_hirer_name').value;
            const email = authContentContainer.querySelector('#reg_hirer_email').value;
            const password = authContentContainer.querySelector('#hirerPassword').value;
            
            const apiUrl = 'http://127.0.0.1:8000/api/register/hirer';

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ name: name, email: email, password: password }),
                });
                const result = await response.json();
                if (response.ok) {
                    // Redirect to profile page on successful registration
                    window.location.href = `hirer-profile.html?name=${encodeURIComponent(name)}&email=${encodeURIComponent(email)}`;
                } else {
                    alert(`Error: ${result.message}`);
                }
            } catch (error) {
                console.error('Failed to connect to the server:', error);
                alert('Registration failed. Could not connect to the server.');
            }
        });

        // --- Connect Hirer Login Form to Backend ---
        hirerLoginForm.addEventListener('submit', async (e) => {
            e.preventDefault();

            const email = authContentContainer.querySelector('#login_email').value;
            const password = authContentContainer.querySelector('#login_password').value;

            const apiUrl = 'http://127.0.0.1:8000/api/login/hirer';

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email, password }),
                });

                const result = await response.json();

                if (response.ok) {
                    // Redirect to profile page on successful login
                    const name = result.name || email; // Use name from response, fallback to email
                    window.location.href = `hirer-profile.html?name=${encodeURIComponent(name)}&email=${encodeURIComponent(email)}`;
                } else {
                    alert(`Error: ${result.message}`);
                }
            } catch (error) {
                console.error('Failed to connect to the server:', error);
                alert('Login failed. Could not connect to the server.');
            }
        });

        // --- Connect Worker Registration Form to Backend ---
        const workerRegisterForm = authContentContainer.querySelector('#workerRegisterForm');
        workerRegisterForm.addEventListener('submit', async (e) => {
            e.preventDefault();

            const name = authContentContainer.querySelector('#reg_worker_name').value;
            const phone = authContentContainer.querySelector('#reg_worker_phone').value;
            const gender = authContentContainer.querySelector('#reg_worker_gender').value;
            const age = authContentContainer.querySelector('#reg_worker_age').value;
            const occupation = authContentContainer.querySelector('#reg_worker_occ').value;
            const location = authContentContainer.querySelector('#reg_worker_loc').value;
            const otp = authContentContainer.querySelector('#workerOtp').value;

            const apiUrl = 'http://127.0.0.1:8000/api/register/worker/verify';

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ name, phone, gender, age, occupation, location, otp }),
                });

                const result = await response.json();

                if (response.ok) {
                    // Redirect to worker profile page on successful registration
                    window.location.href = `worker-profile.html?phone=${encodeURIComponent(phone)}`;
                } else {
                    alert(`Error: ${result.message}`); // "Invalid OTP" etc.
                }
            } catch (error) {
                console.error('Failed to connect to the server:', error);
                alert('Registration failed. Could not connect to the server.');
            }
        });

        // --- Connect Worker Login Form to Backend ---
        workerLoginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const phone = authContentContainer.querySelector('#login_phone').value;
            const otp = authContentContainer.querySelector('#login_worker_otp').value;

            const apiUrl = 'http://127.0.0.1:8000/api/login/worker/verify';

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ phone, otp }),
                });

                const result = await response.json();

                if (response.ok) {
                     // Redirect to worker profile page on successful login
                    window.location.href = `worker-profile.html?phone=${encodeURIComponent(phone)}`;
                } else {
                    alert(`Error: ${result.message}`); // "Invalid OTP"
                }
            } catch (error) {
                console.error('Failed to connect to the server:', error);
                alert('Login failed. Could not connect to the server.');
            }
        });
    });
</script>
</body>
</html>
